[gcode_macro PreHeatBed]
gcode:
  !import math
  !import time
  !start_temp=0
  !target_temp=110.0
  !temp1=80.0
  !temp2=95.0
  !respond_info("Setting Bed Temperature: %.1fC" % temp1)
  !emit("SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=80")
  !condition_met = False
  !while not condition_met:
  !  current_temp = printer["heater_bed"]["temperature"]
  !  respond_info("Current Bed Temperature: %.1fC" % printer["heater_bed"]["temperature"])
  !  if current_temp >= temp1:
  !    condition_met = True
  !  time.sleep(30)
  !respond_info("Setting Bed Temperature: %.1fC" % temp2)
  !emit("SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=95")
  !condition_met = False
  !while not condition_met:
  !  current_temp = printer["heater_bed"]["temperature"]
  !  if current_temp >= temp2:
  !    condition_met = True
  !  time.sleep(30)  
  !respond_info("Setting Bed Temperature: %.1fC" % target_temp)
  !emit("SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET=110")
  !condition_met = False
  !while not condition_met:
  !  current_temp = printer["heater_bed"]["temperature"]
  !  if current_temp >= target_temp:
  !    condition_met = True
  !  time.sleep(30)  

